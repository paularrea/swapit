{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/web-dev/Projects/Swapit/Client/src/components/AddCreation.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport service from \"../api/service\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nconst AddCreation = props => {\n  const [creation, setCreation] = useState({\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    imgPath: \"\",\n    creator: props.user._id\n  });\n\n  let fileUpload = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"imgPath\", e.target.files[0]);\n\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/upload\", formData);\n      creation.imgPath = res.data.secure_url;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  let onChange = e => {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setCreation({ ...creation,\n      [name]: value\n    });\n  };\n\n  let handleSubmit = async e => {\n    e.preventDefault();\n    await service.uploadCreation(creation);\n    props.history.push(\"/private/profile\");\n    console.log(\"Creation Added!\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Create a new Product:\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"imgPath\",\n    className: \"form-control\",\n    id: \"imageInput\",\n    placeholder: \"Upload Img\",\n    onChange: e => fileUpload(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    className: \"form-control\",\n    id: \"titleInput\",\n    placeholder: \"title\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    name: \"description\",\n    className: \"form-control\",\n    id: \"descriptionInput\",\n    placeholder: \"Description...\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    type: \"text\",\n    className: \"form-control text-center\",\n    id: \"categoryInput\",\n    placeholder: \"Category\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"drawings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Drawings\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"handmade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Handmade\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"wood\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Wood\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"photography\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Photography\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \" \", \"Create!\", \" \"))));\n};\n\nexport default withAuth(AddCreation);","map":{"version":3,"sources":["/Users/mac/Desktop/web-dev/Projects/Swapit/Client/src/components/AddCreation.js"],"names":["React","useState","axios","service","withAuth","AddCreation","props","creation","setCreation","title","description","category","imgPath","creator","user","_id","fileUpload","e","preventDefault","formData","FormData","append","target","files","res","post","data","secure_url","err","console","log","onChange","name","value","handleSubmit","uploadCreation","history","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport service from \"../api/service\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nconst AddCreation = (props) => {\n  const [creation, setCreation] = useState({\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    imgPath: \"\",\n    creator: props.user._id\n  });\n\n  let fileUpload = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"imgPath\", e.target.files[0]);\n    try {\n      const res = await axios.post(\n        \"http://localhost:4000/api/upload\",\n        formData\n      );\n      creation.imgPath = res.data.secure_url;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  let onChange = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    setCreation({\n      ...creation,\n      [name]: value,\n    });\n  };\n\n  let handleSubmit = async (e) => {\n    e.preventDefault();\n    await service.uploadCreation(creation);\n    props.history.push(\"/private/profile\");\n    console.log(\"Creation Added!\");\n  };\n\n  return (\n    <div onSubmit={(e) => handleSubmit(e)}>\n      <h1 className=\"text-center\">Create a new Product:</h1>\n      <form>\n        <div className=\"form-group\">\n          <label>Image</label>\n          <input\n            type=\"file\"\n            name=\"imgPath\"\n            className=\"form-control\"\n            id=\"imageInput\"\n            placeholder=\"Upload Img\"\n            onChange={(e) => fileUpload(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Title</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            className=\"form-control\"\n            id=\"titleInput\"\n            placeholder=\"title\"\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Description</label>\n          <textarea\n            type=\"text\"\n            name=\"description\"\n            className=\"form-control\"\n            id=\"descriptionInput\"\n            placeholder=\"Description...\"\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Category</label>\n          <select\n            name=\"category\"\n            type=\"text\"\n            className=\"form-control text-center\"\n            id=\"categoryInput\"\n            placeholder=\"Category\"\n            onChange={(e) => onChange(e)}\n          >\n            <option value=\"drawings\">Drawings</option>\n            <option value=\"handmade\">Handmade</option>\n            <option value=\"wood\">Wood</option>\n            <option value=\"photography\">Photography</option>\n          </select>\n        </div>\n        <div>\n          <button className=\"btn btn-primary\" type=\"submit\">\n            {\" \"}\n            Create!{\" \"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default withAuth(AddCreation);\n"]},"metadata":{},"sourceType":"module"}